{"version":3,"sources":["redux/actions.js","redux/reducers.js","components/Button.jsx","components/ButtonChangeQuestion.jsx","components/ButtonSubmit.jsx","components/QuestionsIndexes.jsx","components/Tips.jsx","components/Game.jsx","components/ButtonReset.jsx","components/App.jsx","redux/ReduxProvider.js","serviceWorker.js","index.js"],"names":["QUESTION_ANSWER","CHANGE_QUESTION","SUBMIT","INIT_QUESTIONS","TIMER_REFRESH","IS_FETCHING","FETCH_ERROR","RESET","MY_TOKEN","questionAnswer","index","answer","console","log","type","payload","submit","questions","timerRefresh","timeLeft","fetchQuestions","isFetching","reset","fetchDataFromServer","dispatch","fetch","then","response","ok","Error","json","length","initQuestions","catch","error","fetchError","GlobalState","combineReducers","score","state","action","map","question","userAnswer","finished","currentQuestion","i","fetching","availableQuestions","isResetting","buttonStyle","color","Button","style","this","props","buttonType","React","Component","ButtonChangeQuestion","click","bind","changeQuestion","targetQuestionId","disabled","disable","onClick","direction","ButtonSubmit","onSubmit","onSubmitPress","QuestionsIndexes","e","onQuestionSelect","parseInt","target","id","push","key","Tips","pistas","tips","tip","Card","border","class","width","height","Game","onTimeCountChange","questionImageUrl","authorImageUrl","attachment","url","author","photo","className","Container","placeholder","value","onChange","onQuestionAnswer","firstQuestion","lastQuestion","Image","src","fluid","alt","filename","username","thumbnail","backgroundColor","ButtonReset","onReset","App","interval","setInterval","timeout","startGame","clearInterval","clearTimeout","Spinner","animation","Title","appTextChange","text","title","connect","ReduxProvider","initialState","store","configureStore","createStore","applyMiddleware","thunkMiddleware","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a67270d5.chunk.js","sourcesContent":["export const QUESTION_ANSWER = 'QUESTION_ANSWER';\r\nexport const CHANGE_QUESTION = 'CHANGE_QUESTION';\r\nexport const SUBMIT = 'SUBMIT';\r\nexport const INIT_QUESTIONS = 'INIT_QUESTIONS';\r\n//export const TIMEOUT = 'TIMEOUT';\r\nexport const TIMER_REFRESH = 'TIMER_REFRESH';\r\nexport const IS_FETCHING = 'IS_FETCHING';\r\nexport const FETCH_ERROR = 'FETCH_ERROR';\r\nexport const TIMEOUT_START = 'TIMEOUT_START';\r\nexport const RESET = 'RESET';\r\n\r\n\r\nconst MY_TOKEN = '170928d0aade25dc7cc5';\r\n\r\n\r\nexport function questionAnswer(index, answer) {\r\n    console.log('question answer!');\r\n    return { type: QUESTION_ANSWER, payload: { index, answer } };\r\n}\r\n\r\nexport function submit(questions) {\r\n    console.log('submit!');\r\n    return { type: SUBMIT, payload: { questions } };\r\n}\r\n\r\nexport function changeQuestion(index) {\r\n    return { type: CHANGE_QUESTION, payload: { index } };\r\n}\r\n\r\nexport function timerRefresh(timeLeft) {\r\n    return { type: TIMER_REFRESH, payload: { timeLeft } };\r\n}\r\n\r\nexport function fetchQuestions(isFetching) {\r\n    console.log('fetchQuestions action!')\r\n    return { type: IS_FETCHING, payload: { isFetching } }\r\n}\r\n\r\nexport function initQuestions(questions) {\r\n    console.log('initQuestions action!');\r\n    return { type: INIT_QUESTIONS, payload: { questions } };\r\n}\r\nexport function fetchError(error) {\r\n    return { type: FETCH_ERROR, payload: { error } }\r\n}\r\n\r\nexport function startTimeout() {\r\n    return { type: TIMEOUT_START }\r\n}\r\n\r\nexport function reset() {\r\n    return { type: RESET }\r\n}\r\n\r\n\r\nexport function fetchDataFromServer() {\r\n    return dispatch => {\r\n        dispatch(fetchQuestions(true));\r\n        return fetch('https://quiz.dit.upm.es/api/quizzes/random10wa?token=' + MY_TOKEN)\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    console.log('error fetching');\r\n                    throw Error(response);\r\n                }\r\n                return response;\r\n            }).then((response) => response.json())\r\n            .then((questions) => {\r\n                if (questions.length <= 0) {\r\n                    console.log('**************REINTENTANDO FETCH DATA FROM SERVER**************');\r\n                    dispatch(fetchDataFromServer());\r\n                    return;\r\n                }\r\n                console.log('questions :', questions);\r\n                dispatch(initQuestions(questions));\r\n                dispatch(fetchQuestions(false));\r\n            })\r\n            .catch((error) => {\r\n                console.log('error fetchDataFromServer:', error);\r\n                dispatch(fetchError(error))\r\n            });\r\n    }\r\n}\r\n\r\n/* export function timeout() {\r\n    return { type: TIMEOUT, payload: {  } };\r\n} */","import { combineReducers } from 'redux';\r\nimport { QUESTION_ANSWER, CHANGE_QUESTION, SUBMIT, INIT_QUESTIONS, TIMER_REFRESH, IS_FETCHING, FETCH_ERROR, RESET } from './actions';\r\n\r\nfunction scoreReducer(state = 0, action = {}) {\r\n    switch (action.type) {\r\n        case SUBMIT:\r\n            let score = 0;\r\n            action.payload.questions.map((question, index) => {\r\n                if (question.answer === question.userAnswer) {\r\n                    score++;\r\n                }\r\n            })\r\n            return state = score;\r\n        case RESET:\r\n            return state = 0\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction finishedReducer(state = false, action = {}) {\r\n    switch (action.type) {\r\n        case SUBMIT:\r\n            return state = true;\r\n        case RESET:\r\n            return state = false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction currentQuestionReducer(state = 0, action = {}) {\r\n    switch (action.type) {\r\n        case CHANGE_QUESTION:\r\n            return state = action.payload.index\r\n        case RESET:\r\n            return state = 0;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction questionsReducer(state = [], action = {}) {\r\n    switch (action.type) {\r\n        case QUESTION_ANSWER:\r\n            return state.map((question, i) => {\r\n                return {\r\n                    ...question,\r\n                    userAnswer: action.payload.index === i ?\r\n                        action.payload.answer : question.userAnswer\r\n                }\r\n            })\r\n        case INIT_QUESTIONS:\r\n            return state = action.payload.questions;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nfunction availableQuestionsReducer(state = [], action = {}) {\r\n    switch (action.type) {\r\n        case INIT_QUESTIONS:\r\n            return state = action.payload.questions.length;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction timeLeftReducer(state = 120, action = {}) {\r\n    switch (action.type) {\r\n        case TIMER_REFRESH:\r\n            return state = state - 1;\r\n        case RESET:\r\n            return state = 120;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction fetchingReducer(state = false, action = {}) {\r\n    switch (action.type) {\r\n        case IS_FETCHING:\r\n            return state = action.payload.isFetching;\r\n        case RESET:\r\n            return state = true;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction fetchErrorReducer(state = null, action = {}) {\r\n    switch (action.type) {\r\n        case FETCH_ERROR:\r\n            return state = action.payload.error;\r\n        case RESET:\r\n            return state = null;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction isResettingReducer(state = false, action = {}) {\r\n    switch (action.type) {\r\n        case RESET:\r\n            return state = true;\r\n        case INIT_QUESTIONS:\r\n            return state = false;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nconst GlobalState = (combineReducers({\r\n    score: scoreReducer,\r\n    finished: finishedReducer,\r\n    currentQuestion: currentQuestionReducer,\r\n    questions: questionsReducer,\r\n    timeLeft: timeLeftReducer,\r\n    fetching: fetchingReducer,\r\n    fetchError: fetchErrorReducer,\r\n    availableQuestions: availableQuestionsReducer,\r\n    isResetting: isResettingReducer,\r\n}));\r\n\r\nexport default GlobalState;","import React from 'react';\r\n\r\nconst buttonStyle = {\r\n    color: 'red',\r\n}\r\n\r\nexport default class Button extends React.Component {\r\n    render() { \r\n        return (\r\n            <button style={buttonStyle}> {this.props.buttonType}</button>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport Button from './Button';\r\nconst buttonStyle = {\r\n    color: 'green'\r\n}\r\n\r\nexport default class ButtonChangeQuestion extends Button {\r\n    constructor(props) {\r\n        super(props);\r\n        this.click = this.click.bind(this);\r\n    }\r\n\r\n    click(){\r\n        this.props.changeQuestion(this.props.targetQuestionId);\r\n    }\r\n    render() { \r\n        return (\r\n            <button disabled={this.props.disable} style={buttonStyle} onClick={this.click}> {this.props.direction} </button>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport Button from './Button';\r\n\r\nconst buttonStyle = {\r\n    color: 'blue'\r\n}\r\n\r\nexport default class ButtonSubmit extends Button {\r\n    constructor(props){\r\n        super(props);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    onSubmit() {\r\n        this.props.onSubmitPress();\r\n    }\r\n    render() {\r\n        return (\r\n            <button\r\n                onClick={this.onSubmit}\r\n                style={buttonStyle}>\r\n                Submit\r\n            </button>\r\n        );\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class QuestionsIndexes extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onClick = this.onClick.bind(this);\r\n    }\r\n\r\n    questionSelected() {\r\n        this.props.changeQuestion(this.props.direction);\r\n    }\r\n\r\n    onClick(e) {\r\n        this.props.onQuestionSelect(parseInt(e.target.id));\r\n    }\r\n\r\n    render() {\r\n        let questions = [];\r\n        for (let i = 0; i < this.props.availableQuestions; i++) {\r\n            questions.push(\r\n                <button key={i}  id={i} onClick={this.onClick}>{i + 1}</button>\r\n            );\r\n        }\r\n        return (\r\n            <div>{questions}</div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport '../assets/style/App.css';\r\n\r\nimport { Card } from 'react-bootstrap';\r\n/* const buttonStyle = {\r\n    color: 'green'\r\n} */\r\n\r\n\r\nexport default class Tips extends React.Component {\r\n    render() {\r\n        let tips = this.props.tips;\r\n        let pistas = tips.map((tip, index) => {\r\n            return (\r\n                <Card border=\"info\" class=\"tips\" key={index} style={{width: '18rem', height:'4rem'}}>{tip}</Card>\r\n            )\r\n        });\r\n        return (\r\n            <div>{pistas}</div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport ButtonChangeQuestion from './ButtonChangeQuestion';\r\nimport ButtonSubmit from './ButtonSubmit';\r\nimport QuestionsIndexes from './QuestionsIndexes';\r\nimport { Container, Row, Image } from 'react-bootstrap';\r\nimport '../assets/style/Game.css';\r\nimport Tips from './Tips';\r\n\r\nexport default class Game extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onSubmitPress = this.onSubmitPress.bind(this);\r\n        this.changeQuestion = this.changeQuestion.bind(this);\r\n        this.onTimeCountChange = this.onTimeCountChange.bind(this);\r\n    }\r\n\r\n    onSubmitPress() {\r\n        this.props.onSubmitPress();\r\n    }\r\n\r\n    changeQuestion(index) {\r\n        this.props.changeQuestion(index);\r\n    }\r\n\r\n    onTimeCountChange() {\r\n        this.props.onTimeCountChange();\r\n    }\r\n\r\n    render() {\r\n        let questionImageUrl = null;\r\n        let authorImageUrl = null;\r\n        try {\r\n            questionImageUrl = this.props.question.attachment.url;\r\n        } catch (e) { }\r\n        try {\r\n            authorImageUrl = this.props.question.author.photo.url;\r\n        } catch (e) { }\r\n        return (\r\n            <div className=\"game\">\r\n                <Container className=\"card\">\r\n                    <div className=\"question\">\r\n                        <p>QUESTION: <b>{this.props.question.question}</b></p>\r\n                    </div>\r\n                    <div className=\"options\">\r\n                        <div>\r\n                            <input type=\"text\"\r\n                                placeholder=\"Type your answer here \"\r\n                                value={this.props.question.userAnswer || \"\"}\r\n                                onChange={(e) => {\r\n                                    this.props.onQuestionAnswer(e.target.value);\r\n                                }} />\r\n                        </div>\r\n                        <div>\r\n                            <ButtonSubmit onSubmitPress={this.onSubmitPress} />\r\n                        </div>\r\n                        <div>\r\n\r\n                            <ButtonChangeQuestion\r\n                                changeQuestion={this.changeQuestion}\r\n                                direction={'Previous question'}\r\n                                disable={this.props.firstQuestion}\r\n                                targetQuestionId={this.props.currentQuestion - 1} />\r\n                            <ButtonChangeQuestion\r\n                                changeQuestion={this.changeQuestion}\r\n                                direction={'Next question'}\r\n                                disable={this.props.lastQuestion}\r\n                                targetQuestionId={this.props.currentQuestion + 1} />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <QuestionsIndexes\r\n                            availableQuestions={this.props.availableQuestions}\r\n                            onQuestionSelect={this.changeQuestion} />\r\n                    </div>\r\n                    <Tips tips={this.props.question.tips} />\r\n                </Container>\r\n                <Container className=\"questionImage\">\r\n\r\n                    {questionImageUrl != null &&\r\n                        <Image src={this.props.question.attachment.url} fluid alt={this.props.question.attachment.filename} />\r\n                    }\r\n                </Container>\r\n                <Container className=\"card\">\r\n                        <div>Autor: <b>{this.props.question.author.username}</b></div>\r\n                        <div>\r\n                            {authorImageUrl != null &&\r\n                                <div className=\"thumbnail\">\r\n                                    < Image src={this.props.question.author.photo.url} thumbnail />\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                </Container>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport Button from './Button';\r\n\r\nconst buttonStyle = {\r\n    backgroundColor: 'light-red',\r\n    color: 'black'\r\n}\r\n\r\nexport default class ButtonReset extends Button {\r\n    constructor(props){\r\n        super(props);\r\n        this.onReset = this.onReset.bind(this);\r\n    }\r\n\r\n    onReset() {\r\n        this.props.onReset();\r\n    }\r\n    render() {\r\n        return (\r\n            <button\r\n                onClick={this.onReset}\r\n                style={buttonStyle}>\r\n                Reset Game\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\n\nimport '../assets/style/App.css';\nimport { Card, Spinner } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport Game from './Game';\nimport ButtonReset from './ButtonReset';\nimport { questionAnswer, submit, changeQuestion, timerRefresh, fetchDataFromServer, reset } from '../redux/actions';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onTimeCountChange = this.onTimeCountChange.bind(this);\n  }\n\n  startGame() {\n    this.props.dispatch(fetchDataFromServer());\n\n    this.interval = setInterval(() => {\n      this.props.dispatch(timerRefresh(this.props.timeLeft));\n    }, 1000);\n\n    this.timeout = setInterval(() => {\n      this.props.dispatch(submit(this.props.questions));\n    }, this.props.timeLeft * 1000);\n\n  }\n\n  componentDidMount() {\n    this.startGame();\n  }\n\n  componentDidUpdate() {\n    if (this.props.isResetting) {\n      clearInterval(this.interval);\n      clearTimeout(this.timeout);\n      this.startGame();\n    }\n\n  }\n  onTimeCountChange() {\n    if (this.props.timeLeft <= 0) {\n      this.props.dispatch(submit(this.props.questions));\n      this.props.dispatch(timerRefresh(this.props.timeLeft));\n    } else {\n      this.props.dispatch(timerRefresh(this.props.timeLeft));\n    }\n  }\n\n  render() {\n    if (this.props.fetchError != null) {\n      return (\n        <div>error: {this.props.fetchError}</div>\n      );\n    } else if (this.props.fetching) {\n      return (\n        <div className=\"loading\">\n          <Spinner animation=\"border\" />\n        </div>\n      );\n    } else if (this.props.questions.length <= 0) {\n      return (\n        <div> Ninguna pregunta en el servidor!</div>\n      )\n    } else if (!this.props.finished) {\n      return (\n        <div className=\"app\">\n          <div className=\"container\">\n            <div>\n              <ButtonReset\n                onReset={() => {\n                  this.props.dispatch(reset());\n                }}\n              />\n            </div>\n            <Card.Title>Pregunta nº {this.props.currentQuestion + 1}</Card.Title>\n            <blockquote className=\"blockquote mb-0 card-body\">\n              <div>Time left: {this.props.timeLeft}</div>\n              <Game question={this.props.questions[this.props.currentQuestion]}\n                appTextChange={(text) => {\n                  this.props.dispatch(questionAnswer(this.props.currentQuestion, text));\n                }}\n                onQuestionAnswer={(answer) => {\n                  this.props.dispatch(questionAnswer(this.props.currentQuestion, answer))\n                }}\n                onSubmitPress={() => {\n                  this.props.dispatch(submit(this.props.questions));\n                }}\n                changeQuestion={(index) => {\n                  this.props.dispatch(changeQuestion(index));\n                }}\n                firstQuestion={this.props.currentQuestion === 0}\n                lastQuestion={this.props.currentQuestion === this.props.questions.length - 1}\n                onTimeCountChange={this.onTimeCountChange}\n                timeLeft={this.props.timeLeft}\n                finished={this.props.finished}\n                availableQuestions={this.props.availableQuestions}\n                currentQuestion={this.props.currentQuestion}\n              />\n              <footer className=\"blockquote-footer\">\n                <small className=\"text-muted\">\n                  Quiz developed by <cite title=\"Source Title\">Guillermo Mejías & Adrián Simón</cite>\n                </small>\n              </footer>\n            </blockquote>\n          </div>\n        </div>);\n    } else {\n      return (\n        <div className=\"container\" >\n          score:{this.props.score} <br />\n\n          <ButtonReset\n            onReset={() => {\n              this.props.dispatch(reset());\n            }}\n          />\n        </div>\n      )\n    }\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { ...state };\n}\n\nexport default connect(mapStateToProps)(App);\n","\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport React from 'react';\r\n\r\n//import { questions } from '../assets/mock';\r\nimport GlobalState from './reducers';\r\n\r\nimport App from '../components/App.jsx';\r\n\r\n\r\nexport default class ReduxProvider extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = {\r\n            score: 0,\r\n            finished: false,\r\n            currentQuestion: 0,\r\n            questions: [],\r\n            availableQuestions: [],\r\n            timeLeft: 10,\r\n            fetching: false,\r\n            fetchError: null,\r\n            isResetting: false\r\n        };\r\n        this.store = this.configureStore();\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <Provider store={this.store}>\r\n                <div style={{ height: '100%' }}>\r\n                    <App store={this.store} />\r\n                </div>\r\n            </Provider>\r\n        );\r\n    }\r\n\r\n    configureStore() {\r\n        return createStore(GlobalState, applyMiddleware(thunkMiddleware));\r\n    }\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/style/index.css';\n//import App from './App';\nimport ReduxProvider from './redux/ReduxProvider';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<ReduxProvider />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}